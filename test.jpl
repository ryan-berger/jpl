

fn gen_black_pic(height : int, width : int) : float4[,] {
    return array[h : height, w : width] {0.0, 0.0, 0.0, 255.0}
}

fn invert(img[H, W] : float4[,]) : float4[,] {
    return array[h : H, w : W] {img[h, w]{0}, img[h, w]{1}, img[h, w]{2}, img[h, w]{3}}
}

read image "test.png" to testImg[HH, WW]
write image invert(testImg) to "anothertest.png"
